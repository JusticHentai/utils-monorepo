import{j as e}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r}from"./iframe-BWchUvSv.js";import"./preload-helper-PPVm8Dsz.js";const m=t=>{const s=r.useRef(!1);return r.useCallback(async(...n)=>{if(!s.current){s.current=!0;try{return await t(...n)}finally{s.current=!1}}},[t])},{action:i}=__STORYBOOK_MODULE_ACTIONS__,l=()=>{const[t,s]=r.useState(!1),[n,a]=r.useState(0),d=m(async()=>{s(!0),i("开始请求")("请求中..."),await new Promise(c=>setTimeout(c,2e3)),a(c=>c+1),s(!1),i("请求完成")("请求成功")});return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16,fontWeight:"bold"},children:"竞态锁"}),e.jsx("div",{style:{marginBottom:8,color:"#666"},children:"快速连续点击按钮，只会执行一次异步请求："}),e.jsxs("div",{style:{marginBottom:16,padding:16,background:"#f5f5f5",borderRadius:8},children:[e.jsxs("div",{children:["请求完成次数：",e.jsx("span",{style:{color:"#52c41a"},children:n})]}),e.jsxs("div",{children:["状态：",e.jsx("span",{style:{color:t?"#faad14":"#52c41a"},children:t?"请求中...":"空闲"})]})]}),e.jsx("div",{className:"button",onClick:d,style:{opacity:t?.6:1},children:t?"请求中...":"提交请求 (2秒)"}),e.jsx("div",{style:{marginTop:16,color:"#999",fontSize:12},children:"提示：useLockFn 会在异步函数执行期间阻止重复调用"})]})};l.__docgenInfo={description:"",methods:[],displayName:"UseLocknDemo"};const y={title:"element-utils/useLockFn",component:l,parameters:{layout:"centered"},argTypes:{}},o={};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:"{}",...o.parameters?.docs?.source}}};const g=["Demo"];export{o as Demo,g as __namedExportsOrder,y as default};
