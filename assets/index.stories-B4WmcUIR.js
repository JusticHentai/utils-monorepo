import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as i}from"./iframe-BWchUvSv.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";const d=r=>{const t=i.useRef(void 0),o=i.useCallback(()=>{t.current=r},[r]);return[t,o]},{action:c}=__STORYBOOK_MODULE_ACTIONS__,a=()=>{const[r,t]=i.useState(0),[o,u]=d(r);return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16,fontWeight:"bold"},children:"保存上一次值"}),e.jsx("div",{style:{marginBottom:8,color:"#666"},children:"usePrevious 返回 [prevRef, update]，只有调用 update 时才会更新 prev："}),e.jsxs("div",{style:{marginBottom:16,padding:16,background:"#f5f5f5",borderRadius:8},children:[e.jsxs("div",{children:["当前 count: ",e.jsx("span",{style:{color:"#1890ff"},children:r})]}),e.jsxs("div",{children:["上一次 count:"," ",e.jsx("span",{style:{color:"#52c41a"},children:o.current??"无"})]})]}),e.jsx("div",{className:"button",onClick:()=>{u(),t(n=>n+1),c("count +1（记录 prev）")({current:r+1,previous:o.current})},children:"count + 1（记录 prev）"}),e.jsx("div",{className:"button",onClick:()=>{t(n=>n+1),c("count +1（不记录 prev）")({current:r+1,previous:o.current})},children:"count + 1（不记录 prev）"}),e.jsx("div",{className:"button",onClick:()=>{u(),c("手动记录 prev")({current:r,previous:o.current})},children:"仅记录当前值为 prev"})]})};a.__docgenInfo={description:"",methods:[],displayName:"UsePreviousDemo"};const x={title:"element-utils/usePrevious",component:a,parameters:{layout:"centered"},argTypes:{}},s={};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:"{}",...s.parameters?.docs?.source}}};const f=["Demo"];export{s as Demo,f as __namedExportsOrder,x as default};
