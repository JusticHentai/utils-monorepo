import{j as r}from"./jsx-runtime-u17CrQMm.js";import{r as i}from"./iframe-BWchUvSv.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";const m=({endTs:o,cb:t})=>{const s=()=>{const e=Math.floor(Date.now()/1e3);return Math.max(o-e,0)};t(s());const a=setInterval(()=>{const e=s();t(e),e<=0&&clearInterval(a)},1e3);return()=>clearInterval(a)},{action:d}=__STORYBOOK_MODULE_ACTIONS__,l=o=>{o?.(),d("倒计时已清除")()},{action:u}=__STORYBOOK_MODULE_ACTIONS__,p=()=>{const o=Math.floor(Date.now()/1e3)+5;return m({endTs:o,cb:t=>{u("剩余秒数:")(t)}})},c=()=>{const o=i.useRef(null);return r.jsxs("div",{children:[r.jsx("div",{className:"button",onClick:()=>{o.current=p()},children:"开始倒计时 5 秒"}),r.jsx("div",{className:"button",onClick:()=>{l(o.current)},children:"清除倒计时"})]})};c.__docgenInfo={description:"",methods:[],displayName:"CountdownDemo"};const f={title:"js-utils/countdown",component:c,parameters:{layout:"centered"},argTypes:{}},n={};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:"{}",...n.parameters?.docs?.source}}};const w=["Demo"];export{n as Demo,w as __namedExportsOrder,f as default};
