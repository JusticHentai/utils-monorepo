import{j as n}from"./jsx-runtime-u17CrQMm.js";import{r as c}from"./iframe-BWchUvSv.js";import{c as C}from"./mutationObserver-wiXghfWe.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";import"./index-DHiFYDE3.js";import"./index-DbXIB-0m.js";import"./interface-Xy6dxNqB.js";const g=(e,t)=>{if(!e)return()=>{};const{stop:r}=C(e,s=>{s.forEach(o=>{o.type==="characterData"&&t(o.oldValue,o.target.data||"")})},{characterData:!0,characterDataOldValue:!0,childList:!1,attributes:!1,subtree:!0});return r},{action:i}=__STORYBOOK_MODULE_ACTIONS__,T="初始文本内容",u=()=>{const e=c.useRef(null),t=c.useRef(null),[r,s]=c.useState(!1);c.useEffect(()=>{if(!r||!e.current)return;const a=e.current,l=document.createTextNode(T);a.appendChild(l),t.current=l;const x=g(a,(h,f)=>{i("文本内容变化")({旧值:h,新值:f})});return i("初始化成功")("点击按钮修改文本内容"),()=>{x(),a.textContent="",t.current=null}},[r]);const o=()=>{s(!0)},m=()=>{if(!t.current){i("请先初始化")();return}const a=`更新时间: ${new Date().toLocaleTimeString()}`;t.current.textContent=a},p=()=>{s(!1),i("清理完成")()};return n.jsxs("div",{children:[n.jsx("div",{className:"button",onClick:o,children:"初始化示例"}),n.jsx("div",{className:"button",onClick:m,children:"修改文本内容"}),n.jsx("div",{className:"button",onClick:p,children:"清理示例"}),r&&n.jsx("div",{style:{marginTop:40},children:n.jsx("div",{ref:e,style:{width:250,padding:20,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:8,color:"white",fontWeight:"bold",textAlign:"center"}})})]})};u.__docgenInfo={description:"",methods:[],displayName:"OnTextContentChangeDemo"};const I={title:"element-utils/onTextContentChange",component:u,parameters:{layout:"centered"},argTypes:{}},d={};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"{}",...d.parameters?.docs?.source}}};const R=["Demo"];export{d as Demo,R as __namedExportsOrder,I as default};
