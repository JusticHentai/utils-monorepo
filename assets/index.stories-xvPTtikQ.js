import{j as c}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as e}from"./iframe-BWchUvSv.js";import{u as E}from"./index-Ryb9dmuU.js";import{d}from"./index-D7tMd_FW.js";import{g as x}from"./index-B0IsmQno.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CBBZs1mf.js";const R=r=>(a,t,n)=>{const o=e.useRef(!1),i=e.useRef([]),l=e.useRef([]),u=e.useRef(void 0);r(()=>{const f=(Array.isArray(n)?n:[n]).map(h=>x(h));if(!o.current){o.current=!0,i.current=f,l.current=t,u.current=a();return}(f.length!==i.current.length||!d(i.current,f)||!d(l.current,t))&&(u.current?.(),i.current=f,l.current=t,u.current=a())}),E(()=>{u.current?.(),o.current=!1})},{action:g}=__STORYBOOK_MODULE_ACTIONS__,T=R(e.useEffect),p=()=>{const r=e.useRef(null),[s,a]=e.useState(0),[t,n]=e.useState(!1);return T(()=>{if(t)return g("effect 执行")({count:s,target:r.current?.textContent}),()=>{g("effect 清理")("清理上一次 effect")}},[s],r),c.jsxs("div",{children:[c.jsx("div",{className:"button",onClick:()=>n(!0),children:"初始化示例"}),c.jsxs("div",{className:"button",onClick:()=>a(o=>o+1),children:["更新依赖 (count: ",s,")"]}),t&&c.jsx("div",{style:{marginTop:40},children:c.jsxs("div",{ref:r,style:{width:200,height:100,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:["目标元素 ",s]})})]})};p.__docgenInfo={description:"",methods:[],displayName:"CreateEffectWithTargetDemo"};const S={title:"element-utils/createEffectWithTarget",component:p,parameters:{layout:"centered"},argTypes:{}},m={};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source}}};const I=["Demo"];export{m as Demo,I as __namedExportsOrder,S as default};
