import{r as e}from"./iframe-BWchUvSv.js";const w=(i,C)=>{const{delay:l,leading:m=!0,trailing:s=!0}=C,R=l>=0,k=e.useRef(i);e.useEffect(()=>{k.current=i});const n=e.useRef(null),r=e.useRef(null),a=e.useRef(0),u=e.useRef(!1),t=e.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),c=e.useCallback(f=>{k.current(...f),a.current=Date.now(),r.current=null},[]),d=e.useCallback(()=>{t(),r.current=null,u.current=!1,a.current=0},[t]),T=e.useCallback(()=>{r.current!==null&&(t(),c(r.current),u.current=!1)},[t,c]),g=e.useCallback(()=>n.current!==null,[]),p=e.useCallback((...f)=>{if(!R)return;const b=Date.now(),E=b-a.current,o=l-E;r.current=f,t(),o<=0||o>l?(m||u.current?(c(f),u.current=!0):(u.current=!0,a.current=b),s&&(n.current=setTimeout(()=>{r.current!==null&&s&&c(r.current),u.current=!1,n.current=null},l))):s&&(n.current=setTimeout(()=>{r.current!==null&&c(r.current),u.current=!1,n.current=null},o))},[l,m,s,R,t,c]);return e.useEffect(()=>()=>{t()},[t]),{run:p,cancel:d,flush:T,isPending:g}};export{w as u};
