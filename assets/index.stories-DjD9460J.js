import{j as s}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r}from"./iframe-BWchUvSv.js";import"./preload-helper-PPVm8Dsz.js";const u=e=>(o,a)=>{const t=r.useRef(!1);e(()=>()=>{t.current=!1},[]),e(()=>{if(!t.current)t.current=!0;else return o()},a)},{action:n}=__STORYBOOK_MODULE_ACTIONS__,i=u(r.useEffect),f=()=>{const[e,o]=r.useState(0),[a,t]=r.useState("首次渲染不会触发 effect");return r.useEffect(()=>{n("useEffect 执行")({count:e,message:"每次都会执行（包括首次）"})},[e]),i(()=>{t(`effect 触发，count: ${e}`),n("useUpdateEffect 执行")({count:e,message:"只在更新时执行"})},[e]),s.jsxs("div",{children:[s.jsxs("div",{className:"button",onClick:()=>o(d=>d+1),children:["增加计数 (count: ",e,")"]}),s.jsxs("div",{style:{marginTop:20,padding:16,background:"#f5f5f5",borderRadius:8},children:[s.jsxs("p",{children:["状态: ",a]}),s.jsx("p",{style:{fontSize:12,color:"#666"},children:"注意：首次渲染时 useUpdateEffect 不会执行"})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"CreateUpdateEffectDemo"};const x={title:"element-utils/createUpdateEffect",component:f,parameters:{layout:"centered"},argTypes:{}},c={};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:"{}",...c.parameters?.docs?.source}}};const _=["Demo"];export{c as Demo,_ as __namedExportsOrder,x as default};
