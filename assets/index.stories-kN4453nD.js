import{j as s}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{o as c}from"./index-oytXLUsV.js";import"./index-B1yd03Fi.js";import"./index-BBae2uCj.js";import"./interface-l7xTqOLs.js";import"./index-CiAGgNxw.js";import"./index-BecUxZRD.js";import"./performanceObserver-wogupI_g.js";import"./index-DIcNE1hc.js";import"./index-DbXIB-0m.js";import"./interface-Xy6dxNqB.js";const{action:l}=__STORYBOOK_MODULE_ACTIONS__,_=(t,i)=>()=>{const o=t();o&&o();const r=c(e=>{l("CLS 指标")({累积值:e.value.toFixed(4),偏移次数:e.entries.length,rating:e.rating})});i(r),l("初始化成功")("CLS 将在页面隐藏时报告最终值，或切换标签页触发")},{action:p}=__STORYBOOK_MODULE_ACTIONS__,u=(t,i)=>()=>{const o=t();o&&o();const r=c(e=>{p("CLS 变化")({当前值:e.value.toFixed(4),偏移次数:e.entries.length,rating:e.rating})},{reportAllChanges:!0});i(r),p("初始化成功（报告所有变化）")("每次布局偏移都会触发回调")},{action:m}=__STORYBOOK_MODULE_ACTIONS__,C=(t,i)=>()=>{const o=t();o&&o();const r=c(e=>{m("CLS Metric")({name:e.name,value:e.value.toFixed(4),rating:e.rating,delta:e.delta.toFixed(4),id:e.id,navigationType:e.navigationType,entriesCount:e.entries.length})});i(r),m("初始化成功")("CLS Metric 监控中，触发布局偏移可观察变化...")},{action:O}=__STORYBOOK_MODULE_ACTIONS__,S=()=>{const t=document.createElement("div");t.style.cssText=`
    position: relative;
    width: 200px;
    height: 100px;
    background: #ff6b6b;
    margin: 20px auto;
    transition: none;
  `,t.textContent="布局偏移元素",document.body.insertBefore(t,document.body.firstChild),setTimeout(()=>{t.remove(),O("触发布局偏移")("元素已移除，可能产生布局偏移")},100)},{action:g}=__STORYBOOK_MODULE_ACTIONS__,x=(t,i)=>()=>{const o=t();o&&(o(),i()),g("清理完成")()};let n=null;const h=_(()=>n,t=>{n=t}),v=u(()=>n,t=>{n=t}),D=C(()=>n,t=>{n=t}),L=x(()=>n,()=>{n=null}),d=()=>s.jsxs("div",{children:[s.jsx("div",{className:"button",onClick:h,children:"监听 CLS（最终值）"}),s.jsx("div",{className:"button",onClick:v,children:"监听 CLS（所有变化）"}),s.jsx("div",{className:"button",onClick:D,children:"监听 CLS（Metric 版本）"}),s.jsx("div",{className:"button",onClick:S,children:"触发布局偏移"}),s.jsx("div",{className:"button",onClick:L,children:"清理监听"})]});d.__docgenInfo={description:"",methods:[],displayName:"OnCLSDemo"};const F={title:"element-utils/onCLS",component:d,parameters:{layout:"centered"},argTypes:{}},a={};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:"{}",...a.parameters?.docs?.source}}};const R=["Demo"];export{a as Demo,R as __namedExportsOrder,F as default};
