import{j as e}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{a as i}from"./index-DFXbvB5D.js";import{r as p}from"./index-dIpHIJyx.js";import{s as y}from"./index-BvINh1mj.js";const{action:s}=__STORYBOOK_MODULE_ACTIONS__,_=async()=>{let r=0;const c=i(async()=>{throw r++,s("开始执行")(r),await y(1e3),s("执行完成")(r),new Error("总是失败")}),l=await p({fn:c,retryCount:3})();s("重试失败用例")(l)},{action:n}=__STORYBOOK_MODULE_ACTIONS__;let t=0;const u=async()=>{t=0;const a=i(async()=>{if(t++,n("开始执行")(t),await y(1e3),n("执行完成")(t),t<2)throw new Error("失败");return"成功"}),m=await p({fn:a,retryCount:3})();n("重试成功用例")(m)},d=()=>e.jsxs("div",{children:[e.jsx("div",{className:"button",onClick:u,children:"重试成功用例"}),e.jsx("div",{className:"button",onClick:_,children:"重试失败用例"})]});d.__docgenInfo={description:"",methods:[],displayName:"retryFormatDemo"};const C={title:"js-utils/retryFormat",component:d,parameters:{layout:"centered"},argTypes:{}},o={};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:"{}",...o.parameters?.docs?.source}}};const D=["Demo"];export{o as Demo,D as __namedExportsOrder,C as default};
