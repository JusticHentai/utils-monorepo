import{s as b}from"./index-DHiFYDE3.js";import{b as v}from"./interface-Xy6dxNqB.js";const p=(i,n,c)=>{const r={...v,...c},e={observer:null,isActive:!1,pause:()=>{},resume:()=>{},stop:()=>{}};if(!b())return console.warn("[observer] MutationObserver is not supported"),e;if(!i)return console.warn("[observer] Target element is required"),e;const a=Array.isArray(i)?i:[i];let t=null;const o={childList:r.childList,attributes:r.attributes,characterData:r.characterData,subtree:r.subtree,attributeOldValue:r.attributeOldValue,characterDataOldValue:r.characterDataOldValue,...r.attributeFilter&&{attributeFilter:r.attributeFilter}},u=()=>{t||(t=new MutationObserver(n),a.forEach(s=>{s&&t?.observe(s,o)}),e.observer=t,e.isActive=!0)},l=()=>{t&&(t.disconnect(),t=null,e.observer=null,e.isActive=!1)};return e.pause=()=>{t&&(t.disconnect(),e.isActive=!1)},e.resume=()=>{if(!t){u();return}a.forEach(s=>{s&&t?.observe(s,o)}),e.isActive=!0},e.stop=l,r.immediate&&u(),e};export{p as c};
