import{j as e}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as c}from"./iframe-BWchUvSv.js";import{i as u}from"./index-DoeT91Fo.js";import{u as f}from"./index-CBBZs1mf.js";import"./preload-helper-PPVm8Dsz.js";const p=(a,t,o={})=>{const{immediate:r}=o,i=f(a),s=c.useRef(null),m=c.useCallback(()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);return c.useEffect(()=>{if(!(!u(t)||t<0))return r&&i.current?.(),s.current=setInterval(()=>{i.current?.()},t),m},[t,r,m,i]),m},{action:n}=__STORYBOOK_MODULE_ACTIONS__,d=()=>{const[a,t]=c.useState(0),[o,r]=c.useState(void 0),i=p(()=>{t(s=>s+1),n("interval 执行")(`计数: ${a+1}`)},o,{immediate:!1});return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16,fontWeight:"bold"},children:"定时器 Interval"}),e.jsxs("div",{style:{marginBottom:16,padding:16,background:"#f5f5f5",borderRadius:8},children:[e.jsx("div",{style:{fontSize:32,textAlign:"center",color:"#1890ff"},children:a}),e.jsxs("div",{style:{textAlign:"center",color:"#999",marginTop:8},children:["状态：",o?`运行中 (${o}ms)`:"已停止"]})]}),e.jsx("div",{className:"button",onClick:()=>{r(1e3),n("启动定时器")("间隔 1000ms")},children:"启动 (1s 间隔)"}),e.jsx("div",{className:"button",onClick:()=>{r(500),n("启动定时器")("间隔 500ms")},children:"启动 (0.5s 间隔)"}),e.jsx("div",{className:"button",onClick:()=>{r(void 0),n("停止定时器")("已停止")},children:"停止"}),e.jsx("div",{className:"button",onClick:()=>{i(),r(void 0),n("清除定时器")("已清除")},children:"清除"}),e.jsx("div",{className:"button",onClick:()=>{t(0),n("重置计数")("计数已重置")},children:"重置计数"})]})};d.__docgenInfo={description:"",methods:[],displayName:"UseIntervalDemo"};const b={title:"element-utils/useInterval",component:d,parameters:{layout:"centered"},argTypes:{}},l={};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"{}",...l.parameters?.docs?.source}}};const I=["Demo"];export{l as Demo,I as __namedExportsOrder,b as default};
