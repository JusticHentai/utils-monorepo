import{j as r}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{W as l}from"./index-unHVUpRi.js";import{M as p}from"./index-B1yd03Fi.js";import"./index-oytXLUsV.js";import"./index-BBae2uCj.js";import"./interface-l7xTqOLs.js";import"./index-CiAGgNxw.js";import"./index-BecUxZRD.js";import"./performanceObserver-wogupI_g.js";import"./index-DIcNE1hc.js";import"./index-DbXIB-0m.js";import"./interface-Xy6dxNqB.js";import"./index-O4ucCvDK.js";import"./index-nTjGkKWs.js";import"./index-B3RPGl_z.js";import"./index-yvfzGEcD.js";import"./index-B_uU3mD0.js";import"./index-BtXwjIh0.js";import"./index-CeTF1X9l.js";import"./index-DG75V_b_.js";const{action:d}=__STORYBOOK_MODULE_ACTIONS__,F=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{d(`${t.name} 指标`)({name:t.name,value:t.value,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,entriesCount:t.entries.length})});a(s),d("监控已启动")('所有 Web Vitals 指标监控中，点击"停止监控"按钮可手动停止')},{action:u}=__STORYBOOK_MODULE_ACTIONS__,S=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{if(t.name!==p.LCP)return;const i=t.entries[t.entries.length-1];u("LCP 指标")({value:`${t.value.toFixed(2)} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,element:i?.element?.tagName,url:i?.url,size:i?.size})},{reportAllChanges:!0});a(s),u("LCP 监控已启动")('等待页面加载，点击"停止监控"按钮可手动停止')},{action:_}=__STORYBOOK_MODULE_ACTIONS__,N=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{if(t.name!==p.INP)return;const i=t.entries[0];_("INP 指标")({value:`${t.value} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,eventName:i?.name,startTime:i?.startTime})},{reportAllChanges:!0});a(s),_("INP 监控已启动")('请进行页面交互（点击、输入等），点击"停止监控"按钮可手动停止')},{action:v}=__STORYBOOK_MODULE_ACTIONS__,f=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{t.name===p.CLS&&v("CLS 指标")({value:t.value.toFixed(4),rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,entriesCount:t.entries.length})},{reportAllChanges:!0});a(s),v("CLS 监控已启动")('请滚动页面或触发布局变化，点击"停止监控"按钮可手动停止')},{action:T}=__STORYBOOK_MODULE_ACTIONS__,x=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{t.name===p.FCP&&T("FCP 指标")({value:`${t.value.toFixed(2)} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType})});a(s),T("FCP 监控已启动")("FCP 通常在页面加载时已触发，刷新页面可看到效果")},{action:O}=__STORYBOOK_MODULE_ACTIONS__,y=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{if(t.name!==p.TTFB)return;const i=t.entries[0];O("TTFB 指标")({value:`${t.value.toFixed(2)} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,dnsLookup:`${((i?.domainLookupEnd||0)-(i?.domainLookupStart||0)).toFixed(2)} ms`,tcpConnect:`${((i?.connectEnd||0)-(i?.connectStart||0)).toFixed(2)} ms`})});a(s),O("TTFB 监控已启动")("TTFB 在页面加载完成后报告")},{action:m}=__STORYBOOK_MODULE_ACTIONS__,I=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{t.name===p.FP&&m("FP 指标")({value:`${t.value.toFixed(2)} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType})});a(s),m("FP 监控已启动")("FP 在首次绘制时报告，刷新页面可看到效果")},{action:g}=__STORYBOOK_MODULE_ACTIONS__,L=(n,a)=>()=>{const o=n();o&&o();const s=l(t=>{if(t.name!==p.FID)return;const i=t.entries[0];g("FID 指标")({value:`${t.value.toFixed(2)} ms`,rating:t.rating,delta:t.delta,id:t.id,navigationType:t.navigationType,eventName:i?.name})});a(s),g("FID 监控已启动")("在页面上进行首次交互（点击、按键等）触发 FID（已被 INP 取代）")},{action:C}=__STORYBOOK_MODULE_ACTIONS__,b=(n,a)=>()=>{const o=n();o?(o(),a(),C("监控已停止")("已停止所有指标监控")):C("无需清理")("当前没有正在运行的监控")};let e=null;const P=F(()=>e,n=>{e=n}),h=S(()=>e,n=>{e=n}),$=N(()=>e,n=>{e=n}),B=f(()=>e,n=>{e=n}),E=x(()=>e,n=>{e=n}),A=y(()=>e,n=>{e=n}),M=I(()=>e,n=>{e=n}),j=L(()=>e,n=>{e=n}),k=b(()=>e,()=>{e=null}),D=()=>r.jsxs("div",{children:[r.jsx("div",{className:"button",onClick:P,children:"监控所有指标"}),r.jsx("div",{className:"button",onClick:h,children:"只监控 LCP"}),r.jsx("div",{className:"button",onClick:$,children:"只监控 INP"}),r.jsx("div",{className:"button",onClick:B,children:"只监控 CLS"}),r.jsx("div",{className:"button",onClick:E,children:"只监控 FCP"}),r.jsx("div",{className:"button",onClick:A,children:"只监控 TTFB"}),r.jsx("div",{className:"button",onClick:M,children:"只监控 FP"}),r.jsx("div",{className:"button",onClick:j,children:"只监控 FID"}),r.jsx("div",{className:"button",onClick:k,children:"停止监控"})]});D.__docgenInfo={description:"",methods:[],displayName:"ObserveWebVitalsDemo"};const it={title:"element-utils/observeWebVitals",component:D,parameters:{layout:"centered"},argTypes:{}},c={};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:"{}",...c.parameters?.docs?.source}}};const rt=["Demo"];export{c as Demo,rt as __namedExportsOrder,it as default};
