import{c as f}from"./index-BtXwjIh0.js";import{g as a,M as r}from"./index-B1yd03Fi.js";import{g,N as T}from"./index-BBae2uCj.js";import{E as d}from"./interface-l7xTqOLs.js";import{o as p}from"./index-B_uU3mD0.js";import{u as i}from"./index-CiAGgNxw.js";const y=o=>{let s=!1;const m=()=>{if(s)return;const t=performance.getEntriesByType(d.NAVIGATION)[0];if(!t)return;const e=t.responseStart;if(e<=0)return;s=!0;const n={name:r.TTFB,value:e,delta:e,rating:a(r.TTFB,e),id:i(),navigationType:g(),entries:[t]};o(n)};if(document.readyState==="complete")setTimeout(m,0);else{const t=f(window,"load",m,{once:!0}),e=p(n=>{const u={name:r.TTFB,value:performance.now()-n.timeStamp,delta:0,rating:a(r.TTFB,0),id:i(),navigationType:T.BACK_FORWARD_CACHE,entries:[]};o(u)});return()=>{t(),e()}}const c=p(t=>{const e={name:r.TTFB,value:performance.now()-t.timeStamp,delta:0,rating:a(r.TTFB,0),id:i(),navigationType:T.BACK_FORWARD_CACHE,entries:[]};o(e)});return()=>{c()}};export{y as o};
