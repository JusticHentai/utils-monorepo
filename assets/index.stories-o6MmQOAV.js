import{j as t}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as c}from"./iframe-BWchUvSv.js";import{u as l}from"./index-CBBZs1mf.js";import"./preload-helper-PPVm8Dsz.js";const{action:r}=__STORYBOOK_MODULE_ACTIONS__,i=()=>{const[o,n]=c.useState(0),a=l(o);return c.useEffect(()=>{const s=setInterval(()=>{r("定时器读取 latestCount.current")(a.current)},2e3);return()=>clearInterval(s)},[]),t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:16,fontWeight:"bold"},children:"获取最新值"}),t.jsx("div",{style:{marginBottom:8,color:"#666"},children:"useLatest 可以避免闭包问题，总是获取最新值："}),t.jsxs("div",{style:{marginBottom:16,padding:16,background:"#f5f5f5",borderRadius:8},children:[t.jsxs("div",{style:{fontSize:24},children:["count: ",t.jsx("span",{style:{color:"#1890ff"},children:o})]}),t.jsx("div",{style:{marginTop:8,color:"#666",fontSize:12},children:"每 2 秒会在 Actions 面板输出 latestCount.current"})]}),t.jsx("div",{className:"button",onClick:()=>{n(s=>s+1),r("增加 count")(o+1)},children:"count + 1"}),t.jsx("div",{className:"button",onClick:()=>{n(0),r("重置")("count 已重置")},children:"重置"}),t.jsx("div",{style:{marginTop:16,color:"#999",fontSize:12},children:"提示：即使 useEffect 的依赖数组为空，latestCount.current 也能获取到最新的 count 值"})]})};i.__docgenInfo={description:"",methods:[],displayName:"UseLatestDemo"};const x={title:"element-utils/useLatest",component:i,parameters:{layout:"centered"},argTypes:{}},e={};e.parameters={...e.parameters,docs:{...e.parameters?.docs,source:{originalSource:"{}",...e.parameters?.docs?.source}}};const h=["Demo"];export{e as Demo,h as __namedExportsOrder,x as default};
