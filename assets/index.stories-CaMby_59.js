import{j as o}from"./jsx-runtime-u17CrQMm.js";import{r as d}from"./iframe-BWchUvSv.js";import{d as g}from"./index-DlFSBFMu.js";import{g as x}from"./index-DZxKv9xf.js";import{c as b}from"./resizeObserver-CJMXqnqe.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";import"./index-BpdpvJes.js";import"./index-DbXIB-0m.js";import"./interface-Xy6dxNqB.js";const C=(t,n,a={})=>{if(!t)return()=>{};const{threshold:m=0,delay:r=0}=a;let s=x(t).height;const c=e=>{const f=s;s=e,n(e,f)},h=r>0?g({cb:c,duration:r}):c,{stop:i}=b(t,({height:e})=>{Math.abs(e-s)<=m||h(e)});return i},{action:u}=__STORYBOOK_MODULE_ACTIONS__,p=()=>{const t=d.useRef(null),[n,a]=d.useState(!1),[m,r]=d.useState(150);d.useEffect(()=>{if(!n||!t.current)return;const h=C(t.current,(i,e)=>{r(Math.round(i)),u("高度变化")({前值:Math.round(e),现值:Math.round(i),变化量:Math.round(i-e)})},{threshold:5,delay:50});return u("初始化成功")("拖动下边框调整高度，阈值 5px，变化小于 5px 不触发"),()=>{h()}},[n]);const s=()=>{a(!0),r(150)},c=()=>{a(!1),r(150),u("清理完成")()};return o.jsxs("div",{children:[o.jsx("div",{className:"button",onClick:s,children:"初始化示例"}),o.jsx("div",{className:"button",onClick:c,children:"清理示例"}),n&&o.jsx("div",{style:{marginTop:40},children:o.jsxs("div",{ref:t,style:{width:200,height:150,background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",borderRadius:8,color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",resize:"vertical",overflow:"auto",minHeight:100,maxHeight:400},children:[o.jsx("div",{children:"拖动调整高度"}),o.jsxs("div",{children:["高度: ",m,"px"]})]})})]})};p.__docgenInfo={description:"",methods:[],displayName:"OnHeightChangeDemo"};const S={title:"element-utils/onHeightChange",component:p,parameters:{layout:"centered"},argTypes:{}},l={};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"{}",...l.parameters?.docs?.source}}};const I=["Demo"];export{l as Demo,I as __namedExportsOrder,S as default};
