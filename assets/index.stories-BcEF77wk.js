import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as n}from"./iframe-BWchUvSv.js";import{u as m}from"./index-BiJVgYx7.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";const{action:r}=__STORYBOOK_MODULE_ACTIONS__,i=n.memo(({onClick:o,label:t})=>(r("子组件渲染")(t),e.jsx("div",{onClick:o,style:{padding:"8px 16px",background:"#f0f0f0",borderRadius:4,cursor:"pointer",marginBottom:8},children:t}))),c=()=>{const[o,t]=n.useState(0),a=n.useCallback(()=>{r("普通 callback")(o)},[o]),l=m(()=>{r("memoized callback")(o)});return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16,fontWeight:"bold"},children:"持久化函数"}),e.jsx("div",{style:{marginBottom:8,color:"#666"},children:"useMemoizedFn 返回的函数引用永远不变，可以避免子组件重新渲染："}),e.jsx("div",{style:{marginBottom:16,padding:16,background:"#f5f5f5",borderRadius:8},children:e.jsxs("div",{children:["count: ",e.jsx("span",{style:{color:"#1890ff"},children:o})]})}),e.jsx("div",{className:"button",onClick:()=>{t(d=>d+1)},children:"增加 count（触发重新渲染）"}),e.jsx("div",{style:{margin:"24px 0 16px",fontWeight:"bold"},children:"子组件"}),e.jsx("div",{style:{marginBottom:8,color:"#666",fontSize:12},children:"查看 Actions 面板观察子组件渲染情况："}),e.jsx(i,{onClick:a,label:"普通 callback（count 变化时重新渲染）"}),e.jsx(i,{onClick:l,label:"memoized callback（不会重新渲染）"}),e.jsx("div",{style:{marginTop:16,color:"#999",fontSize:12},children:"提示：增加 count 时，使用普通 callback 的子组件会重新渲染，使用 memoized callback 的不会"})]})};c.__docgenInfo={description:"",methods:[],displayName:"UseMemoizedFnDemo"};const g={title:"element-utils/useMemoizedFn",component:c,parameters:{layout:"centered"},argTypes:{}},s={};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:"{}",...s.parameters?.docs?.source}}};const h=["Demo"];export{s as Demo,h as __namedExportsOrder,g as default};
