import{j as a}from"./jsx-runtime-u17CrQMm.js";/* empty css              */class u{max=0;count=0;queue=[];constructor(e){this.max=e}async add(e){this.count>=this.max&&await new Promise(s=>this.queue.push(s)),this.count++;const t=await e();return this.count--,this.queue.length&&this.queue.shift()(),t}}const m=async()=>{const o=new u(2),e=[],t=(s,n)=>{o.add(()=>new Promise(i=>{setTimeout(()=>{e.push(n),i(n)},s)}))};return t(1e3,"1"),t(500,"2"),t(300,"3"),t(400,"4"),await new Promise(s=>setTimeout(s,2e3)),{message:"并发调度器（最大并发数：2）",executionOrder:e,explanation:"任务1和2先执行，2先完成后3开始，3完成后4开始"}},{action:d}=__STORYBOOK_MODULE_ACTIONS__,c=()=>a.jsx("div",{children:a.jsx("div",{className:"button",onClick:()=>{const o=m();d("normal")(o)},children:"normal"})});c.__docgenInfo={description:"",methods:[],displayName:"SchedulerDemo"};const p={title:"learn-utils/handwritten/Scheduler",component:c,parameters:{layout:"centered"},argTypes:{}},r={};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:"{}",...r.parameters?.docs?.source}}};const x=["Demo"];export{r as Demo,x as __namedExportsOrder,p as default};
