import{j as c}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as C}from"./iframe-BWchUvSv.js";import"./preload-helper-PPVm8Dsz.js";const S=(l,i=0,v={})=>{const{leading:f=!1,trailing:x=!0,maxWait:u}=v;let t,n,r,o,d=0;const h=u!==void 0,D=u??0,b=e=>{const s=n;return n=void 0,d=e,r=l(...s),r},T=e=>{const s=o===void 0?0:e-o,a=e-d;return o===void 0||s>=i||s<0||h&&a>=D},L=e=>{const s=o===void 0?0:e-o,a=e-d,j=i-s;return h?Math.min(j,D-a):j},m=()=>{const e=Date.now();if(T(e)){_(e);return}t=setTimeout(m,L(e))},E=e=>(d=e,t=setTimeout(m,i),f?b(e):r),_=e=>(t=void 0,x&&n?b(e):(n=void 0,r)),O=()=>{t!==void 0&&clearTimeout(t),d=0,n=void 0,o=void 0,t=void 0},y=()=>t===void 0?r:_(Date.now()),N=()=>t!==void 0,g=((...e)=>{const s=Date.now(),a=T(s);if(n=e,o=s,a){if(t===void 0)return E(o);if(h)return t=setTimeout(m,i),b(o)}return t===void 0&&(t=setTimeout(m,i)),r});return g.cancel=O,g.flush=y,g.pending=N,g},{action:k}=__STORYBOOK_MODULE_ACTIONS__,I=()=>{const[l,i]=C.useState(0),[v,f]=C.useState(0),x=C.useCallback(S(n=>{f(n),k("防抖触发")({值:n})},500),[]),u=()=>{const n=l+1;i(n),k("点击")({当前计数:n}),x(n)},t=()=>{S(()=>{k("leading 模式触发")("立即执行")},500,{leading:!0,trailing:!1})()};return c.jsxs("div",{children:[c.jsx("div",{className:"button",onClick:u,children:"点击测试防抖（连续点击）"}),c.jsx("div",{className:"button",onClick:t,children:"leading 模式（立即执行）"}),c.jsxs("div",{style:{marginTop:20},children:[c.jsxs("p",{children:["点击次数: ",l]}),c.jsxs("p",{children:["防抖后执行次数: ",v]}),c.jsx("p",{style:{color:"#666",fontSize:12},children:"快速连续点击，观察防抖效果（500ms 后执行）"})]})]})};I.__docgenInfo={description:"",methods:[],displayName:"DebounceDemo"};const z={title:"js-utils/debounce",component:I,parameters:{layout:"centered"},argTypes:{}},p={};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:"{}",...p.parameters?.docs?.source}}};const B=["Demo"];export{p as Demo,B as __namedExportsOrder,z as default};
