import{s as u,a as f}from"./index-DIcNE1hc.js";import{a as l}from"./interface-Xy6dxNqB.js";const b=(o,i,c)=>{const s={...l,...c},e={observer:null,isActive:!1,pause:()=>{},resume:()=>{},stop:()=>{}};if(!u())return console.warn("[observer] PerformanceObserver is not supported"),e;if(!f(o))return console.warn(`[observer] Entry type "${o}" is not supported`),e;let r=null;const n=()=>{if(!r)try{r=new PerformanceObserver(t=>{i(t.getEntries())}),r.observe({type:o,buffered:s.buffered,...s.durationThreshold!==void 0&&{durationThreshold:s.durationThreshold}}),e.observer=r,e.isActive=!0}catch(t){console.warn(`[observer] Failed to create observer for "${o}"`,t)}},a=()=>{r&&(r.disconnect(),r=null,e.observer=null,e.isActive=!1)};return e.pause=a,e.resume=n,e.stop=a,s.immediate&&n(),e};export{b as c};
