import{j as r}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as p}from"./iframe-BWchUvSv.js";import"./preload-helper-PPVm8Dsz.js";const T=(c,i=0,d={})=>{const{leading:u=!0,trailing:l=!0}=d;let t,e,o,s=0;const m=()=>{const n=e;return e=void 0,s=Date.now(),o=c(...n),o},g=()=>{const n=Date.now()-s;return Math.max(i-n,0)},h=()=>{t=void 0,l&&e&&(m(),e&&(t=setTimeout(h,i)))},x=()=>Date.now()-s>=i;return Object.assign((...n)=>(e=n,x()&&(u||s!==0?(t!==void 0&&(clearTimeout(t),t=void 0),m()):s=Date.now()),l&&t===void 0&&(t=setTimeout(h,g())),o),{cancel:()=>{t!==void 0&&clearTimeout(t),s=0,e=void 0,t=void 0},flush:()=>(t!==void 0&&(clearTimeout(t),t=void 0),e?m():o),pending:()=>t!==void 0||e!==void 0})},{action:v}=__STORYBOOK_MODULE_ACTIONS__,f=()=>{const[c,i]=p.useState(0),[d,u]=p.useState(0),l=p.useCallback(T(e=>{u(o=>o+1),v("节流触发")({点击次数:e})},1e3),[]),t=()=>{const e=c+1;i(e),v("点击")({当前计数:e}),l(e)};return r.jsxs("div",{children:[r.jsx("div",{className:"button",onClick:t,children:"点击测试节流（连续点击）"}),r.jsxs("div",{style:{marginTop:20},children:[r.jsxs("p",{children:["点击次数: ",c]}),r.jsxs("p",{children:["节流后执行次数: ",d]}),r.jsx("p",{style:{color:"#666",fontSize:12},children:"快速连续点击，观察节流效果（每 1 秒最多执行 1 次）"})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"ThrottleDemo"};const E={title:"js-utils/throttle",component:f,parameters:{layout:"centered"},argTypes:{}},a={};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:"{}",...a.parameters?.docs?.source}}};const b=["Demo"];export{a as Demo,b as __namedExportsOrder,E as default};
