import{i as s}from"./index-DbXIB-0m.js";import{o as i}from"./index-vw0CbWNS.js";import{o as a}from"./index-Dy4Jlylv.js";import{o as t}from"./index-Hh3QjLfa.js";import{o as l}from"./index-DTeKS9Q9.js";import{o as f}from"./index-DDoPo_J-.js";import{o as r}from"./index-C6lvCn9q.js";import{o as c}from"./index-D75VQskf.js";import{o as h}from"./index-B_-fQMag.js";import{o as d}from"./index-DPNnPLch.js";import{o as u}from"./index-Cr6y8Y03.js";import{o as p}from"./index-DRbt2l9s.js";import{o as g}from"./index-Bfe0ZkV7.js";import{o as m}from"./index-Due9vDYA.js";import{v as H}from"./index-BecUxZRD.js";var n=(o=>(o.DOM_CONTENT_LOADED="DOMContentLoaded",o.LOAD="load",o.BEFORE_UNLOADED="beforeunload",o.UNLOAD="unload",o.SSR="ssr",o.PAGE_SHOW="pageshow",o.PAGE_HIDE="pagehide",o.VISIBILITY_CHANGE="visibilitychange",o.FOCUS="focus",o.BLUR="blur",o.ONLINE="online",o.OFFLINE="offline",o.POPSTATE="popstate",o.HASHCHANGE="hashchange",o.FREEZE="freeze",o.RESUME="resume",o))(n||{});const O={DOMContentLoaded:()=>console.info("[onPageLifecycle][DOMContentLoaded] default info"),load:()=>console.info("[onPageLifecycle][load] default info"),beforeunload:()=>console.info("[onPageLifecycle][beforeunload] default info"),unload:()=>console.info("[onPageLifecycle][unload] default info"),ssr:()=>console.info("[onPageLifecycle][ssr] default info"),pageshow:o=>{console.info("[onPageLifecycle][pageshow] default info"),o?.persisted&&console.info("[onPageLifecycle][pageshow] Page restored from BFCache")},pagehide:()=>console.info("[onPageLifecycle][pagehide] default info"),visibilitychange:()=>console.info(`[onPageLifecycle][visibilitychange] Visibility: ${typeof document<"u"?document.visibilityState:"unknown"}`),focus:()=>console.info("[onPageLifecycle][focus] default info"),blur:()=>console.info("[onPageLifecycle][blur] default info"),online:()=>console.info("[onPageLifecycle][online] default info"),offline:()=>console.info("[onPageLifecycle][offline] default info"),popstate:()=>console.info("[onPageLifecycle][popstate] default info"),hashchange:()=>console.info("[onPageLifecycle][hashchange] default info"),freeze:()=>console.info("[onPageLifecycle][freeze] Page frozen"),resume:()=>console.info("[onPageLifecycle][resume] Page resumed")};class N{handlers;cleanupFns=[];constructor(e){this.handlers=e||{}}observe=()=>s()?(this.cleanupFns.push(i(e=>this.getHandler(n.DOM_CONTENT_LOADED)(e))),this.cleanupFns.push(m(e=>this.getHandler(n.LOAD)(e))),this.cleanupFns.push(h(()=>this.getHandler(n.BEFORE_UNLOADED)(),!1)),this.cleanupFns.push(u(e=>this.getHandler(n.UNLOAD)(e))),this.cleanupFns.push(c(e=>this.getHandler(n.PAGE_SHOW)(e))),this.cleanupFns.push(f(e=>this.getHandler(n.PAGE_HIDE)(e))),this.cleanupFns.push(H({visible:()=>this.getHandler(n.VISIBILITY_CHANGE)(),hidden:()=>this.getHandler(n.VISIBILITY_CHANGE)()})),this.cleanupFns.push(g(e=>this.getHandler(n.FOCUS)(e))),this.cleanupFns.push(p(e=>this.getHandler(n.BLUR)(e))),this.cleanupFns.push(t(e=>{e?this.getHandler(n.ONLINE)():this.getHandler(n.OFFLINE)()})),this.cleanupFns.push(d(e=>this.getHandler(n.POPSTATE)(e))),this.cleanupFns.push(a(e=>this.getHandler(n.HASHCHANGE)(e))),this.cleanupFns.push(l(e=>this.getHandler(n.FREEZE)(e))),this.cleanupFns.push(r(e=>this.getHandler(n.RESUME)(e))),()=>this.stop()):(this.getHandler(n.SSR)(),()=>{});stop=()=>{this.cleanupFns.forEach(e=>e()),this.cleanupFns=[]};getHandler=e=>this.handlers[e]||O[e]}export{N as P};
