import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as n}from"./iframe-BWchUvSv.js";import{c as m}from"./intersectionObserver-CsuZ92MF.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";import"./index-CcKdPq4Q.js";import"./index-DbXIB-0m.js";import"./interface-Xy6dxNqB.js";const p=(e,r,s)=>{if(!e)return()=>{};const{stop:o}=m(e,({isIntersecting:c})=>{c&&(r(),o())},{...s,immediate:!0});return o},{action:f}=__STORYBOOK_MODULE_ACTIONS__,d=()=>{const e=n.useRef(null),r=n.useRef(null),[s,o]=n.useState(!1),[c,l]=n.useState(0);n.useEffect(()=>{if(!r.current||!e.current)return;const a=p(r.current,()=>{f("元素进入视口")("触发回调，观察器自动停止"),o(!0)},{root:e.current});return()=>{a()}},[c]);const u=()=>{o(!1),e.current&&(e.current.scrollTop=0),l(a=>a+1)};return t.jsxs("div",{children:[t.jsx("p",{style:{marginBottom:16,color:"#666"},children:"向下滚动容器，使目标元素进入视口，触发回调"}),t.jsx("div",{className:"button",onClick:u,children:"重置演示"}),t.jsxs("div",{ref:e,style:{marginTop:20,width:300,height:200,overflowY:"auto",border:"2px solid #ddd",borderRadius:8,position:"relative"},children:[t.jsx("div",{style:{height:250,background:"linear-gradient(180deg, #f5f5f5 0%, #e0e0e0 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:"↓ 向下滚动查看目标元素 ↓"}),t.jsx("div",{ref:r,style:{height:100,background:s?"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:16},children:s?"已进入视口!":"目标元素"})]})]})};d.__docgenInfo={description:"",methods:[],displayName:"OnEnterViewportDemo"};const b={title:"element-utils/onEnterViewport",component:d,parameters:{layout:"centered"},argTypes:{}},i={};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:"{}",...i.parameters?.docs?.source}}};const v=["Demo"];export{i as Demo,v as __namedExportsOrder,b as default};
