import{j as m}from"./jsx-runtime-u17CrQMm.js";/* empty css              */function i(e){return new Promise((s,t)=>{const o=[];let r=0;const l=e.length;e.forEach((p,u)=>{Promise.resolve(p).then(d=>{r+=1,o[u]=d,r===l&&s(o)}).catch(t)})})}const P=async()=>{const e=new Promise(o=>setTimeout(()=>o("p1"),100)),s=new Promise((o,r)=>setTimeout(()=>r("p2 error"),50)),t=new Promise(o=>setTimeout(()=>o("p3"),200));try{return await i([e,s,t]),{message:"不应该到这里"}}catch(o){return{message:"Promise.all 有一个失败",error:o}}},_=async()=>{const e=new Promise(r=>setTimeout(()=>r("p1"),100)),s=new Promise(r=>setTimeout(()=>r("p2"),200)),t=new Promise(r=>setTimeout(()=>r("p3"),50));return{message:"Promise.all 全部成功",result:await i([e,s,t])}},{action:c}=__STORYBOOK_MODULE_ACTIONS__,a=()=>m.jsxs("div",{children:[m.jsx("div",{className:"button",onClick:()=>{const e=P();c("error")(e)},children:"error"}),m.jsx("div",{className:"button",onClick:()=>{const e=_();c("normal")(e)},children:"normal"})]});a.__docgenInfo={description:"",methods:[],displayName:"MyPromiseAllDemo"};const y={title:"learn-utils/handwritten/MyPromiseAll",component:a,parameters:{layout:"centered"},argTypes:{}},n={};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:"{}",...n.parameters?.docs?.source}}};const T=["Demo"];export{n as Demo,T as __namedExportsOrder,y as default};
