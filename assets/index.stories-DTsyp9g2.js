import{j as c}from"./jsx-runtime-u17CrQMm.js";/* empty css              */const s=(e,t=new WeakMap)=>{if(e===null||typeof e!="object")return e;if(e instanceof Map){const n=new Map;return t.set(e,n),e.forEach((a,l)=>{n.set(s(l,t),s(a,t))}),n}if(e instanceof Set){const n=new Set;return t.set(e,n),e.forEach(a=>{n.add(s(a,t))}),n}if(e.constructor===Date)return new Date(e);if(e.constructor===RegExp)return new RegExp(e);if(e instanceof ArrayBuffer)return e.slice(0);if(ArrayBuffer.isView(e)&&!(e instanceof DataView)){const n=e.constructor;return new n(e)}if(e instanceof DataView){const n=e.buffer.slice(0);return new DataView(n,e.byteOffset,e.byteLength)}if(e instanceof Error){const n=new e.constructor(e.message);return n.stack=e.stack,n}if(t.has(e))return t.get(e);const o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e));t.set(e,o);for(const n of Reflect.ownKeys(e)){const a=typeof e[n]=="object"&&e[n]?s(e[n],t):e[n];o[n]=a}return o},{action:d}=__STORYBOOK_MODULE_ACTIONS__,_=()=>{const e={a:1};e.self=e;const t=s(e);d("深拷贝循环引用对象")({original:e,cloned:t,isDeep:t.self===t})},{action:m}=__STORYBOOK_MODULE_ACTIONS__,O=()=>{const e={a:new Date("2023-01-01")},t=s(e);m("深拷贝 Date 对象")({original:e,cloned:t,isDate:t.a instanceof Date,isEqual:e.a.getTime()===t.a.getTime(),isDeep:e.a!==t.a})},{action:u}=__STORYBOOK_MODULE_ACTIONS__,f=()=>{const e={a:1,b:{c:2}},t=s(e);t.b.c=3,u("深拷贝普通对象")({original:e,cloned:t,isDeep:e.b.c!==t.b.c})},{action:p}=__STORYBOOK_MODULE_ACTIONS__,y=()=>{const e={pattern:/hello\s+world/gi,validate:/^[a-z]+$/},t=s(e);p("深拷贝 RegExp 对象")({original:e,cloned:t,isDeep:e.pattern!==t.pattern})},{action:D}=__STORYBOOK_MODULE_ACTIONS__,g=()=>{const e=[1,[2,3],[4,5]],t=s(e);t[1][0]=999,D("深拷贝数组")({original:e,cloned:t,isDeep:e[1][0]!==t[1][0]})},{action:S}=__STORYBOOK_MODULE_ACTIONS__,w=()=>{const e=Symbol("key"),t={name:"test",[e]:"symbol value"},o=s(t);S("深拷贝 Symbol 键")({original:t,cloned:o,hasSymbol:e in o,symbolValue:o[e]})},{action:T}=__STORYBOOK_MODULE_ACTIONS__,A=()=>{const e=Symbol("id"),t={name:"mixed",date:new Date("2025-01-06"),pattern:/test/gi,items:[1,{nested:!0}],[e]:["symbol value",{a:"symbol value"}]},o=s(t);o[e][1].a="symbol value 2",T("深拷贝混合类型")({original:t,cloned:o,isDeep:t[e]?.[1]?.a!==o[e]?.[1]?.a,hasSymbol:e in o})},{action:C}=__STORYBOOK_MODULE_ACTIONS__,E=()=>{const e={nested:!0},t=new Map([["key1",e],["key2",{value:2}]]),o=s(t);o.get("key1").nested=!1,C("深拷贝 Map")({original:Object.fromEntries(t),cloned:Object.fromEntries(o),isDeep:t.get("key1").nested!==o.get("key1").nested})},{action:N}=__STORYBOOK_MODULE_ACTIONS__,x=()=>{const e={id:1},t=new Set([e,{id:2}]),o=s(t),n=[...o][0];n.id=999,N("深拷贝 Set")({original:[...t],cloned:[...o],isDeep:e.id!==n.id})},{action:k}=__STORYBOOK_MODULE_ACTIONS__,v=()=>{const e=new ArrayBuffer(8),t=new Uint8Array(e);t[0]=42;const o=s(e),n=new Uint8Array(o);n[0]=100,k("深拷贝 ArrayBuffer")({originalFirstByte:t[0],clonedFirstByte:n[0],isDeep:t[0]!==n[0]})},{action:B}=__STORYBOOK_MODULE_ACTIONS__,M=()=>{const e=new Uint8Array([1,2,3,4,5]),t=s(e);t[0]=255,B("深拷贝 TypedArray (Uint8Array)")({original:Array.from(e),cloned:Array.from(t),isDeep:e[0]!==t[0]})},{action:I}=__STORYBOOK_MODULE_ACTIONS__,R=()=>{const e=new ArrayBuffer(16),t=new DataView(e);t.setInt32(0,42);const o=s(t);o.setInt32(0,100),I("深拷贝 DataView")({originalValue:t.getInt32(0),clonedValue:o.getInt32(0),isDeep:t.getInt32(0)!==o.getInt32(0)})},{action:U}=__STORYBOOK_MODULE_ACTIONS__,K=()=>{const e=new TypeError("原始错误信息"),t=s(e);U("深拷贝 Error")({originalMessage:e.message,clonedMessage:t.message,originalName:e.name,clonedName:t.name,isDeep:e!==t&&e.message===t.message,hasStack:!!t.stack})},i=()=>c.jsxs("div",{children:[c.jsx("div",{className:"button",onClick:f,children:"深拷贝普通对象"}),c.jsx("div",{className:"button",onClick:_,children:"深拷贝循环引用对象"}),c.jsx("div",{className:"button",onClick:O,children:"深拷贝 Date 对象"}),c.jsx("div",{className:"button",onClick:y,children:"深拷贝 RegExp 对象"}),c.jsx("div",{className:"button",onClick:g,children:"深拷贝数组"}),c.jsx("div",{className:"button",onClick:w,children:"深拷贝 Symbol 键"}),c.jsx("div",{className:"button",onClick:E,children:"深拷贝 Map"}),c.jsx("div",{className:"button",onClick:x,children:"深拷贝 Set"}),c.jsx("div",{className:"button",onClick:v,children:"深拷贝 ArrayBuffer"}),c.jsx("div",{className:"button",onClick:M,children:"深拷贝 TypedArray"}),c.jsx("div",{className:"button",onClick:R,children:"深拷贝 DataView"}),c.jsx("div",{className:"button",onClick:K,children:"深拷贝 Error"}),c.jsx("div",{className:"button",onClick:A,children:"深拷贝混合类型"})]});i.__docgenInfo={description:"",methods:[],displayName:"deepCloneDemo"};const Y={title:"js-utils/deepClone",component:i,parameters:{layout:"centered"},argTypes:{}},r={};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:"{}",...r.parameters?.docs?.source}}};const $=["Demo"];export{r as Demo,$ as __namedExportsOrder,Y as default};
