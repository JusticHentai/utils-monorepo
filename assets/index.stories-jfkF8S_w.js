import{j as t}from"./jsx-runtime-u17CrQMm.js";/* empty css              */import{r as n}from"./iframe-BWchUvSv.js";import{c as b}from"./index-DRubxzZW.js";import{u as h}from"./index-CBBZs1mf.js";import"./preload-helper-PPVm8Dsz.js";const x=u=>{const{delay:c=300}=u,s=h(u),l=n.useRef(null),r=n.useRef(0),a=n.useRef(null);n.useEffect(()=>{a.current=b({duration:c,onCombo:o=>{r.current=o??0;const m=l.current;m&&s.current.onCombo?.(r.current,m)},onClose:()=>{const o=r.current;s.current.onComboEnd?.(o),r.current=0,l.current=null}})},[c,s]);const e=n.useCallback(o=>{l.current=o,a.current?.()},[]),C=n.useCallback(o=>{o.preventDefault(),e(o)},[e]),f=n.useCallback(o=>{o.preventDefault(),e(o)},[e]);return{handleClick:C,handleTouch:f}},{action:d}=__STORYBOOK_MODULE_ACTIONS__,p=()=>{const[u,c]=n.useState(0),[s,l]=n.useState(0),{handleClick:r,handleTouch:a}=x({onCombo:e=>{c(e),d("连击")(e+" 连击")},onComboEnd:e=>{l(e),d("连击结束")("最终连击次数: "+e),setTimeout(()=>c(0),100)},delay:300});return t.jsxs("div",{children:[t.jsx("div",{className:"button",onClick:r,onTouchEnd:a,children:"点击测试（连击计数）"}),t.jsxs("div",{style:{marginTop:20,padding:16,background:"#f5f5f5",borderRadius:8},children:[t.jsxs("p",{children:["当前连击次数: ",t.jsx("strong",{children:u})]}),s>0&&t.jsxs("p",{children:["上次最终次数: ",t.jsx("strong",{children:s})]}),t.jsx("p",{style:{fontSize:12,color:"#666",marginTop:8},children:"每次点击触发 onCombo | 连击结束触发 onComboEnd"})]})]})};p.__docgenInfo={description:"",methods:[],displayName:"UseDoubleClickDemo"};const g={title:"element-utils/useDoubleClick",component:p,parameters:{layout:"centered"},argTypes:{}},i={};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:"{}",...i.parameters?.docs?.source}}};const T=["Demo"];export{i as Demo,T as __namedExportsOrder,g as default};
