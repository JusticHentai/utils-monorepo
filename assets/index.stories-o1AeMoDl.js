import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r}from"./iframe-BWchUvSv.js";import{o as l}from"./index-B_-fQMag.js";/* empty css              */import"./preload-helper-PPVm8Dsz.js";import"./index-BtXwjIh0.js";import"./index-DbXIB-0m.js";const{action:a}=__STORYBOOK_MODULE_ACTIONS__,i=()=>{const[t,n]=r.useState(!1),[s,c]=r.useState(!0);return r.useEffect(()=>{if(!t)return;const d=l(()=>{a("页面卸载")(s?"pagehide 事件触发":"beforeunload 事件触发")},s);return a("开始监听")(`使用 ${s?"pagehide":"beforeunload"} 事件`),()=>{d(),a("停止监听")("已清理监听器")}},[t,s]),e.jsxs("div",{children:[e.jsx("div",{className:"button",onClick:()=>n(!0),children:"开始监听页面卸载"}),e.jsx("div",{className:"button",onClick:()=>n(!1),children:"停止监听"}),e.jsx("div",{className:"button",onClick:()=>c(!s),children:"切换事件类型"}),e.jsxs("div",{className:"card",children:[e.jsxs("p",{children:["监听状态: ",t?"监听中":"未监听"]}),e.jsxs("p",{children:["事件类型: ",s?"pagehide（推荐）":"beforeunload"]}),e.jsx("p",{className:"desc",children:"提示：关闭标签页或导航到其他页面时触发"})]})]})};i.__docgenInfo={description:"",methods:[],displayName:"OnPageUnloadDemo"};const _={title:"element-utils/onPageUnload",component:i,parameters:{layout:"centered"},argTypes:{}},o={};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:"{}",...o.parameters?.docs?.source}}};const j=["Demo"];export{o as Demo,j as __namedExportsOrder,_ as default};
