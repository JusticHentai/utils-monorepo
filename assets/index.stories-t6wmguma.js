import{j as g}from"./jsx-runtime-u17CrQMm.js";/* empty css              */const{action:_}=__STORYBOOK_MODULE_ACTIONS__,f=(s,e)=>async(...o)=>{console.log(`[${e}] 开始执行，参数:`,o);try{const r=await s(...o);return console.log(`[${e}] 执行成功，结果:`,r),[r,void 0]}catch(r){return console.log(`[${e}] 执行失败，错误:`,r),[void 0,r]}},h=async()=>{const s=async(a,n)=>(await new Promise(w=>setTimeout(w,100)),a+n),e=async(a,n)=>{if(n===0)throw new Error("除数不能为零");return a/n},o=f(s,"Sum"),r=f(e,"Divide"),[t,c]=await o(10,20);_("加法结果")({result:t,error:c});const[u,d]=await r(10,2);_("除法结果")({result:u,error:d});const[m,p]=await r(10,0);_("除零错误")({result:m,error:p})},{action:i}=__STORYBOOK_MODULE_ACTIONS__,v=s=>async(...e)=>{const o=performance.now();try{const r=await s(...e),t=performance.now()-o;return console.log(`函数执行耗时: ${t.toFixed(2)}ms`),[r,void 0]}catch(r){const t=performance.now()-o;return[void 0,{originalError:r,duration:t}]}},D=s=>{const e=new Map;return async(...o)=>{const r=JSON.stringify(o);if(e.has(r))return console.log("缓存命中:",r),[e.get(r),void 0];const[t,c]=await s(...o);return t!==void 0&&(e.set(r,t),console.log("结果已缓存:",r)),[t,c]}},O=async()=>{const e=v(async n=>{if(await new Promise(w=>setTimeout(w,500)),n<=0)throw new Error("无效的用户ID");return{id:n,name:`User ${n}`,email:`user${n}@example.com`}}),o=D(e);console.log("=== 第一次调用 ===");const[r,t]=await o(1);i("第一次调用")({result:r,error:t}),console.log("=== 第二次调用（相同参数）===");const[c,u]=await o(1);i("第二次调用（缓存）")({result:c,error:u}),console.log("=== 调用不同参数 ===");const[d,m]=await o(2);i("不同参数调用")({result:d,error:m}),console.log("=== 错误情况 ===");const[p,a]=await o(-1);i("错误情况")({result:p,error:a})},y=()=>g.jsxs("div",{children:[g.jsx("div",{className:"button",onClick:h,children:"基础包装函数演示"}),g.jsx("div",{className:"button",onClick:O,children:"函数组合演示"})]});y.__docgenInfo={description:"",methods:[],displayName:"wrappedFunctionDemo"};const S={title:"js-utils/WrappedFunction",component:y,parameters:{layout:"centered"},argTypes:{}},l={};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"{}",...l.parameters?.docs?.source}}};const T=["Demo"];export{l as Demo,T as __namedExportsOrder,S as default};
