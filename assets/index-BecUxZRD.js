var a=(e=>(e.Visible="visible",e.Hidden="hidden",e.Prerender="prerender",e))(a||{});const o=e=>{const{visible:u,hidden:t,once:i=!1,safariCompat:c=!1}=e||{};let n=!1;const d=()=>{i&&n||(document.visibilityState===a.Visible?u?.():(n=!0,t?.(),i&&s()))};document.addEventListener("visibilitychange",d);const r=c?()=>{i&&n||(n=!0,t?.())}:null;r&&window.addEventListener("pagehide",r,i?{once:!0,capture:!0}:{capture:!0});const s=()=>{document.removeEventListener("visibilitychange",d),r&&window.removeEventListener("pagehide",r,{capture:!0})};return s};export{a as V,o as v};
