import{j as m}from"./jsx-runtime-u17CrQMm.js";/* empty css              */const R=(t,a={})=>{const{decode:r=!0,arrayFormat:n=!0}=a;if(!t||typeof t!="string")return null;let e;try{e=new URL(t)}catch{try{e=new URL(`https://${t}`)}catch{return null}}const u=()=>{const s={};return e.searchParams.forEach((i,d)=>{const h=r?decodeURIComponent(d):d,g=r?decodeURIComponent(i):i;if(n&&s[h]!==void 0){const _=s[h];Array.isArray(_)?_.push(g):s[h]=[_,g]}else s[h]=g}),s},o=()=>{const c=e.pathname.split("/").filter(Boolean);return r?c.map(i=>decodeURIComponent(i)):c},l=e.hash.startsWith("#")?e.hash.slice(1):e.hash;return{href:e.href,protocol:e.protocol.replace(":",""),hostname:e.hostname,port:e.port,host:e.host,pathname:r?decodeURIComponent(e.pathname):e.pathname,pathSegments:o(),search:e.search,query:u(),hash:e.hash,hashValue:r?decodeURIComponent(l):l,username:r?decodeURIComponent(e.username):e.username,password:r?decodeURIComponent(e.password):e.password,origin:e.origin}},C=t=>{const{baseUrl:a="",pathname:r="",pathSegments:n=[],query:e={},hash:u=""}=t;let o=a;if(r&&(o=o.replace(/\/$/,"")+r),n.length>0){const s=n.map(c=>encodeURIComponent(String(c))).join("/");o=o.replace(/\/$/,"")+"/"+s}const l=Object.entries(e);if(l.length>0){const s=new URLSearchParams;l.forEach(([c,i])=>{Array.isArray(i)?i.forEach(d=>s.append(c,String(d))):s.append(c,String(i))}),o+="?"+s.toString()}return u&&(o+="#"+encodeURIComponent(u)),o},L=(t,a,r=!0)=>{try{const e=R(t,{decode:r})?.query[a];return e===void 0?null:Array.isArray(e)?e[0]:e}catch{return null}},x=(t,a,r=!0)=>{try{const e=R(t,{decode:r,arrayFormat:!0})?.query[a];return e===void 0?[]:Array.isArray(e)?e:[e]}catch{return[]}},I=(t,a,r)=>{try{const n=new URL(t);return n.searchParams.set(a,String(r)),n.toString()}catch{return null}},v=(t,a)=>{try{const r=new URL(t);return r.searchParams.delete(a),r.toString()}catch{return null}},f=t=>{try{return new URL(t),!0}catch{return!1}},{action:O}=__STORYBOOK_MODULE_ACTIONS__,A=()=>{const t="https://example.com:8080/path/to/page?name=test&id=123#section",a=R(t);O("原始 URL")(t),O("解析结果")(a)},{action:S}=__STORYBOOK_MODULE_ACTIONS__,D=()=>{const t={baseUrl:"https://example.com",pathname:"/api/users",pathSegments:["123","profile"],query:{name:"test",tags:["a","b"]},hash:"section"},a=C(t);S("构建配置")(t),S("构建结果")(a)},{action:p}=__STORYBOOK_MODULE_ACTIONS__,b=()=>{const t="https://example.com/page?name=test&tags=a&tags=b&id=123";p("原始 URL")(t);const a=L(t,"name");p('getQueryParam(url, "name")')(a);const r=x(t,"tags");p('getQueryParams(url, "tags")')(r);const n=I(t,"page",1);p('setQueryParam(url, "page", 1)')(n);const e=v(t,"id");p('removeQueryParam(url, "id")')(e)},{action:U}=__STORYBOOK_MODULE_ACTIONS__,w=()=>{const t="https://example.com/path?query=1",a="not-a-valid-url";U("验证有效 URL")(t),U("isValidUrl 结果")(f(t)),U("验证无效 URL")(a),U("isValidUrl 结果")(f(a))},P=()=>m.jsxs("div",{children:[m.jsx("div",{className:"button",onClick:A,children:"解析 URL"}),m.jsx("div",{className:"button",onClick:D,children:"构建 URL"}),m.jsx("div",{className:"button",onClick:b,children:"查询参数操作"}),m.jsx("div",{className:"button",onClick:w,children:"验证 URL"})]});P.__docgenInfo={description:"",methods:[],displayName:"ParseUrlDemo"};const q={title:"element-utils/parseUrl",component:P,parameters:{layout:"centered"},argTypes:{}},y={};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:"{}",...y.parameters?.docs?.source}}};const N=["Demo"];export{y as Demo,N as __namedExportsOrder,q as default};
