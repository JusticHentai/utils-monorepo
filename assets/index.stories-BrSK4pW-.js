import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as p}from"./iframe-BWchUvSv.js";/* empty css              */import{o as f}from"./index-BugwjZBp.js";import"./preload-helper-PPVm8Dsz.js";import"./index-BtXwjIh0.js";import"./index-DbXIB-0m.js";import"./index-Bo3lECD5.js";import"./index-D75aqAM0.js";import"./index-CqBXiXQH.js";import"./index-hlnNsxih.js";import"./index-yZEgcorC.js";import"./index-QD0SLaeG.js";const u=(e,l,n)=>{const{threshold:c=0,throttle:o=0}=n||{};return f(e,()=>{e.scrollTop>=e.scrollHeight-e.clientHeight-c&&l()},{throttle:o})},{action:a}=__STORYBOOK_MODULE_ACTIONS__;let r=null;const v=e=>{r&&r(),r=u(e,()=>{a("滚动回调")("滚动到底部")}),a("添加滚动监听")("已添加基础滚动监听")},g=()=>{r?(r(),r=null,a("移除滚动监听")("已移除基础滚动监听")):a("提示")("未添加监听")},{action:m}=__STORYBOOK_MODULE_ACTIONS__;let s=null;const _=e=>{s&&s(),s=u(e,()=>{m("滚动回调")("接近底部 50px")},{threshold:50}),m("添加滚动监听（带阈值）")("已添加滚动监听（阈值 50px）")},j=()=>{s?(s(),s=null,m("移除滚动监听")("已移除阈值滚动监听")):m("提示")("未添加监听")},{action:h}=__STORYBOOK_MODULE_ACTIONS__;let i=null;const y=e=>{i&&i(),i=u(e,()=>{h("滚动回调")("滚动到底部（节流 100ms）")},{threshold:30,throttle:100}),h("添加滚动监听（带节流）")("已添加滚动监听（阈值 30px，节流 100ms）")},O=()=>{i?(i(),i=null,h("移除滚动监听")("已移除节流滚动监听")):h("提示")("未添加监听")},x=()=>{const e=p.useRef(null),l=p.useRef(null),n=p.useRef(null);return t.jsxs("div",{style:{display:"flex",gap:24},children:[t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:8},children:"基础滚动监听"}),t.jsx("div",{ref:e,style:{width:200,height:150,overflow:"auto",border:"1px solid #ccc",borderRadius:4,marginBottom:8},children:t.jsx("div",{style:{height:400,padding:8},children:Array.from({length:20},(c,o)=>t.jsxs("div",{style:{padding:"4px 0"},children:["内容行 ",o+1]},o))})}),t.jsx("div",{className:"button",onClick:()=>e.current&&v(e.current),children:"添加滚动监听"}),t.jsx("div",{className:"button",onClick:g,children:"移除滚动监听"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:8},children:"带阈值监听（50px）"}),t.jsx("div",{ref:l,style:{width:200,height:150,overflow:"auto",border:"1px solid #ccc",borderRadius:4,marginBottom:8},children:t.jsx("div",{style:{height:400,padding:8},children:Array.from({length:20},(c,o)=>t.jsxs("div",{style:{padding:"4px 0"},children:["内容行 ",o+1]},o))})}),t.jsx("div",{className:"button",onClick:()=>l.current&&_(l.current),children:"添加滚动监听（阈值 50px）"}),t.jsx("div",{className:"button",onClick:j,children:"移除滚动监听"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:8},children:"带节流监听（100ms）"}),t.jsx("div",{ref:n,style:{width:200,height:150,overflow:"auto",border:"1px solid #ccc",borderRadius:4,marginBottom:8},children:t.jsx("div",{style:{height:400,padding:8},children:Array.from({length:20},(c,o)=>t.jsxs("div",{style:{padding:"4px 0"},children:["内容行 ",o+1]},o))})}),t.jsx("div",{className:"button",onClick:()=>n.current&&y(n.current),children:"添加滚动监听（节流 100ms）"}),t.jsx("div",{className:"button",onClick:O,children:"移除滚动监听"})]})]})};x.__docgenInfo={description:"",methods:[],displayName:"ScrollBottomDemo"};const $={title:"element-utils/scrollBottom",component:x,parameters:{layout:"centered"},argTypes:{}},d={};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"{}",...d.parameters?.docs?.source}}};const K=["Demo"];export{d as Demo,K as __namedExportsOrder,$ as default};
