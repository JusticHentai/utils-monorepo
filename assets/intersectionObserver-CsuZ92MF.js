import{s as l}from"./index-CcKdPq4Q.js";import{d as p}from"./interface-Xy6dxNqB.js";const h=(t,a,u)=>{const o={...p,...u},r={observer:null,isActive:!1,pause:()=>{},resume:()=>{},stop:()=>{}};if(!l())return console.warn("[observer] IntersectionObserver is not supported"),r;if(!t)return console.warn("[observer] Target element is required"),r;const n=Array.isArray(t)?t:[t];let s=null;const f=e=>{e.forEach(i=>{const b={target:i.target,isIntersecting:i.isIntersecting,intersectionRatio:i.intersectionRatio,entry:i};a(b)})},c=()=>{s||(s=new IntersectionObserver(f,{root:o.root,rootMargin:o.rootMargin,threshold:o.threshold}),n.forEach(e=>{e&&s?.observe(e)}),r.observer=s,r.isActive=!0)},v=()=>{s&&(n.forEach(e=>{e&&s?.unobserve(e)}),s.disconnect(),s=null,r.observer=null,r.isActive=!1)};return r.pause=()=>{s&&(n.forEach(e=>{e&&s?.unobserve(e)}),r.isActive=!1)},r.resume=()=>{if(!s){c();return}n.forEach(e=>{e&&s?.observe(e)}),r.isActive=!0},r.stop=v,o.immediate&&c(),r};export{h as c};
