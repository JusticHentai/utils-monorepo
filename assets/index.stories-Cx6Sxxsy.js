import{j as _}from"./jsx-runtime-u17CrQMm.js";/* empty css              */const t=(o,m)=>{const n={escape:/<%-([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,...m},u=s=>{const l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(s).replace(/[&<>"']/g,r=>l[r])};let c=0,e="__p += '";const i=new RegExp([n.escape.source,n.interpolate.source,n.evaluate.source].join("|")+"|$","g");return o.replace(i,(s,l,r,d,v)=>(e+=o.slice(c,v).replace(/['\\\r\n\u2028\u2029]/g,g=>({"'":"\\'","\\":"\\\\","\r":"\\r","\n":"\\n","\u2028":"\\u2028","\u2029":"\\u2029"})[g]),c=v+s.length,l?e+="' + __e("+l+") + '":r?e+="' + ((__t = ("+r+")) == null ? '' : __t) + '":d&&(e+=`';
`+d+`;
__p += '`),s)),e+=`';
`,e=`with(obj) {
`+e+`}
`,e=`var __t, __p = '', __e = __escapeHtml;
`+e+`return __p;
`,s=>new Function("obj","__escapeHtml",e)(s,u)},{action:x}=__STORYBOOK_MODULE_ACTIONS__,O=()=>{x("template - 边界情况")({变量插值:t("hello <%= user %>")({user:"fred"}),HTML转义:t("<b><%- value %></b>")({value:"<script>"}),无变量:t("static text")({})})},{action:a}=__STORYBOOK_MODULE_ACTIONS__,b=()=>{const o=t("Hello, <%= name %>!");a("template - 基础插值")(o({name:"World"}));const m=t("<%- value %>");a("template - HTML 转义")(m({value:`&<>"'/`}));const n=t("<ul><% items.forEach(function(item) { %><li><%= item %></li><% }); %></ul>");a("template - 循环执行")(n({items:["a","b","c"]}));const u=t("<% var b = a; %><%= b.value %>");a("template - evaluate 中声明变量")(u({a:{value:1}}));const c=t('<%= value ? value : "default" %>');a("template - 三元运算符")(c({value:"actual"}));const e=t("<%= a %><%- a %>");a("template - null 值为空字符串")(e({a:null})),a("template - 纯文本")(t("abc")({}));const i=t("<% // comment %><% if (value) { %>yes<% } else { %>no<% } %>");a("template - 代码注释")(i({value:!0}));const s=t("{{= name }}",{interpolate:/\{\{=([\s\S]+?)\}\}/g});a("template - 自定义定界符")(s({name:"custom"}))},T=()=>_.jsxs("div",{children:[_.jsx("div",{className:"button",onClick:b,children:"模板编译"}),_.jsx("div",{className:"button",onClick:O,children:"边界情况验证"})]});T.__docgenInfo={description:"",methods:[],displayName:"TemplateDemo"};const j={title:"js-utils/template",component:T,parameters:{layout:"centered"},argTypes:{}},p={};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:"{}",...p.parameters?.docs?.source}}};const D=["Demo"];export{p as Demo,D as __namedExportsOrder,j as default};
