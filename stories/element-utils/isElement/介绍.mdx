import basicDemo from './basicDemo?raw'
import falseDemo from './falseDemo?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# isElement

判断一个值是否为 DOM Element 实例。

## 详细介绍

`isElement` 使用 `instanceof Element` 检测传入的值是否为 DOM Element 实例。Element 是所有 DOM 元素（如 `HTMLElement`、`SVGElement`）的基类，通过 `instanceof` 可以准确判断值是否为真实的 DOM 元素。

常用于在操作 DOM 之前进行类型守卫，确保传入的值是有效的 DOM 元素，避免在非元素值上调用 DOM API 导致运行时错误。

## 检测 DOM 元素

验证各种通过 `document.createElement` 创建的元素、SVG 元素以及 `document.body` 等内置元素均能正确识别为 Element 实例。

<CodeOrSourceMdx language="typescript">
  {basicDemo}
</CodeOrSourceMdx>

## 检测非 Element 类型

验证 `null`、`undefined`、字符串、数字、普通对象、文本节点、注释节点等非 Element 值均返回 `false`。注意：文本节点（`Text`）和注释节点（`Comment`）虽然是 DOM 节点，但不是 Element 的子类，因此返回 `false`。

<CodeOrSourceMdx language="typescript">
  {falseDemo}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value</td>
      <td><code>unknown</code></td>
      <td>待检测的值</td>
    </tr>
  </tbody>
</table>

### 返回值

<table>
  <thead>
    <tr>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>value is Element</code></td>
      <td>TypeScript 类型谓词，如果值是 Element 实例则返回 true</td>
    </tr>
  </tbody>
</table>

## 具体实现原理

1. **文件职责**: `index.ts` 是唯一的源码文件，导出 `isElement` 函数
2. **核心流程**: 使用 `instanceof Element` 进行类型检测
3. **关键技术点**: 利用 TypeScript 的类型谓词（`value is Element`）实现类型收窄，调用方在 `if (isElement(value))` 分支内可安全使用 Element 的所有属性和方法
4. **与 js-utils 的区别**: `js-utils` 中的 `isElement` 使用 `nodeType === 1` 判断，支持跨 iframe 场景；`element-utils` 中使用 `instanceof Element`，更严格且类型推断更精确
