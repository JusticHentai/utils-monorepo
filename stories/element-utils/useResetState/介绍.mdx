import indexTsx from './index.tsx?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# useResetState

提供重置 state 方法的 Hook。

## 详细介绍

`useResetState` 提供了重置状态到初始值的方法。

**涉及的知识点**：
- React useState
- 状态重置

**常用场景**：
- 表单重置功能
- 需要恢复初始状态的场景
- 游戏/测验的重新开始功能

**优势**：
- 一键重置状态
- 支持函数初始化

## 演示代码

<CodeOrSourceMdx language="tsx">
  {indexTsx}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>默认值</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>initialState</td>
      <td><code>S | (() =&gt; S)</code></td>
      <td>-</td>
      <td>初始状态</td>
    </tr>
  </tbody>
</table>

## 返回值

<table>
  <thead>
    <tr>
      <th>属性名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>state</td>
      <td><code>S</code></td>
      <td>当前状态</td>
    </tr>
    <tr>
      <td>setState</td>
      <td><code>Dispatch&lt;SetStateAction&lt;S&gt;&gt;</code></td>
      <td>设置状态函数</td>
    </tr>
    <tr>
      <td>resetState</td>
      <td><code>() =&gt; void</code></td>
      <td>重置状态函数</td>
    </tr>
  </tbody>
</table>

## 具体实现原理

### 核心流程

1. 使用 useState 管理状态
2. 使用 useRef 保存初始值
3. resetState 函数将状态设置为初始值

### 注意事项

- `resetState` 会将状态重置为初始值
- 如果使用函数初始化，函数只会在首次渲染时执行一次
- `resetState` 函数是稳定的，不会因为重新渲染而变化
