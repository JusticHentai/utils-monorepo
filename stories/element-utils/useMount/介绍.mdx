import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'
import indexTsx from './index.tsx?raw'

# useMount

在组件挂载时执行的 Hook。

## 详细介绍

useMount 在组件首次渲染完成后执行回调函数，相当于 class 组件的 componentDidMount。支持同步和异步回调函数。

### 使用场景

- 组件初始化时获取数据
- 组件挂载时订阅事件
- 初始化第三方库
- 记录页面访问

## 演示代码

<CodeOrSourceMdx language="tsx">
  {indexTsx}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fn</td>
      <td><code>() =&gt; void | Promise&lt;void&gt;</code></td>
      <td>挂载时执行的回调函数</td>
    </tr>
  </tbody>
</table>

## 具体实现原理

### 核心流程

1. 使用 useEffect 实现挂载时执行
2. 依赖数组为空，确保只执行一次
3. 支持异步函数，但异步函数的返回值不作为清理函数
