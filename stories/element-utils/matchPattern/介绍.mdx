import stringDemo from './stringDemo?raw'
import regexDemo from './regexDemo?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# matchPattern

判断字符串是否匹配给定的规则列表。支持字符串包含匹配和正则表达式匹配，常用于 URL 过滤、日志筛选、错误信息匹配等场景。

## 字符串匹配

使用字符串规则时，会检查目标值是否**包含**该字符串。适用于简单的关键词过滤场景。

<CodeOrSourceMdx language="typescript">
  {stringDemo}
</CodeOrSourceMdx>

## 正则表达式匹配

支持混合使用字符串和正则表达式，正则表达式可以实现更复杂的匹配逻辑，如开头/结尾匹配、模式匹配等。

<CodeOrSourceMdx language="typescript">
  {regexDemo}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value</td>
      <td><code>string</code></td>
      <td>要匹配的目标字符串</td>
    </tr>
    <tr>
      <td>patterns</td>
      <td><code>(string | RegExp)[]</code></td>
      <td>匹配规则列表，支持字符串和正则表达式混合</td>
    </tr>
  </tbody>
</table>

### 返回值

<table>
  <thead>
    <tr>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>boolean</code></td>
      <td>是否匹配任一规则</td>
    </tr>
  </tbody>
</table>

## 具体实现原理

### index.ts

核心实现文件，使用 `Array.some()` 遍历规则列表：

1. **字符串规则**：使用 `String.includes()` 检查目标值是否包含该字符串
2. **正则规则**：使用 `RegExp.test()` 检查目标值是否匹配正则表达式
3. **短路求值**：一旦匹配任一规则立即返回 `true`，提升性能
