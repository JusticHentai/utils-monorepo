import basicDemo from './basicDemo.tsx?raw'
import trailingDemo from './trailingDemo.tsx?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# useThrottle

useThrottle 是一个 React Hook，用于实现节流功能，支持首次立即执行和结束时执行。

## 基础用法

<CodeOrSourceMdx language="typescript">
  {basicDemo}
</CodeOrSourceMdx>

## 仅结束时执行

<CodeOrSourceMdx language="typescript">
  {trailingDemo}
</CodeOrSourceMdx>

## 参数介绍

### callback

- 类型：`T extends (...args: any[]) => any`
- 描述：需要节流的回调函数

### options

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>默认值</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>delay</td>
      <td><code>number</code></td>
      <td>-</td>
      <td>节流延迟时间（毫秒）</td>
    </tr>
    <tr>
      <td>leading</td>
      <td><code>boolean</code></td>
      <td><code>true</code></td>
      <td>是否在开始时立即执行</td>
    </tr>
    <tr>
      <td>trailing</td>
      <td><code>boolean</code></td>
      <td><code>true</code></td>
      <td>是否在结束时执行</td>
    </tr>
  </tbody>
</table>

## 返回值

<table>
  <thead>
    <tr>
      <th>属性名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>run</td>
      <td><code>(...args: Parameters&lt;T&gt;) =&gt; void</code></td>
      <td>节流后的函数</td>
    </tr>
    <tr>
      <td>cancel</td>
      <td><code>() =&gt; void</code></td>
      <td>取消节流</td>
    </tr>
    <tr>
      <td>flush</td>
      <td><code>() =&gt; void</code></td>
      <td>立即执行</td>
    </tr>
    <tr>
      <td>isPending</td>
      <td><code>() =&gt; boolean</code></td>
      <td>是否处于节流中</td>
    </tr>
  </tbody>
</table>
