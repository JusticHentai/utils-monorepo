import wrapDemo from './wrapDemo?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# wrap

创建包装函数。

## 详细介绍

`wrap` 创建一个函数，将指定值作为第一个参数传入包装函数。

**常用场景**：
- 函数装饰器模式
- 在函数调用前后添加逻辑
- 参数注入

## 函数包装

使用 `wrap` 创建一个包装函数，将指定值注入为第一个参数。

<CodeOrSourceMdx language="typescript">
  {wrapDemo}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value</td>
      <td><code>T</code></td>
      <td>要包装的值</td>
    </tr>
    <tr>
      <td>wrapper</td>
      <td><code>(value: T, ...args) => R</code></td>
      <td>包装函数</td>
    </tr>
  </tbody>
</table>

### 返回值

- 类型：`(...args) => R`
- 描述：包装后的函数

## 具体实现原理

1. **文件职责**: `index.ts` 实现函数包装
2. **核心流程**: 接收值和包装函数 → 返回新函数 → 调用时将值作为第一个参数传入包装函数
3. **关键技术点**: 闭包捕获值，参数前置
4. **数据流向**: 值 + 包装函数 → 创建闭包 → 调用时 [value, ...args] → 包装函数执行
