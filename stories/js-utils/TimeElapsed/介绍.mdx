import normalDemo from './normalDemo?raw'
import directSetDemo from './directSetDemo?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# TimeElapsed

TimeElapsed 是一个用于计算时间差的类，可以记录多个时间节点并计算各节点之间的时间差。

## 常规使用示例

先调用 `start()` 开始计时，然后通过 `set()` 设置时间节点。

<CodeOrSourceMdx language="typescript">
  {normalDemo}
</CodeOrSourceMdx>

## 直接 set 使用示例

如果没有调用 `start()`，直接调用 `set()` 会自动作为首次记录处理。

<CodeOrSourceMdx language="typescript">
  {directSetDemo}
</CodeOrSourceMdx>

## 方法介绍

### start

- 类型：`() => TimeElapsedReturn`
- 描述：开始计时，会清空之前的时间记录列表

### set

- 类型：`() => TimeElapsedReturn`
- 描述：设置时间节点，如果没有首次记录则等同于 `start()`

## 返回值 TimeElapsedReturn

<table>
  <thead>
    <tr>
      <th>属性</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>initialTime</code></td>
      <td><code>number</code></td>
      <td>开始时间戳</td>
    </tr>
    <tr>
      <td><code>currentTime</code></td>
      <td><code>number</code></td>
      <td>当前时间戳</td>
    </tr>
    <tr>
      <td><code>elapsed</code></td>
      <td><code>number</code></td>
      <td>与上一段的时间差（毫秒）</td>
    </tr>
    <tr>
      <td><code>totalElapsed</code></td>
      <td><code>number</code></td>
      <td>与首次记录的时间差（毫秒）</td>
    </tr>
  </tbody>
</table>

## 属性

### timeList

- 类型：`TimeElapsedReturn[]`
- 描述：所有时间记录的列表
