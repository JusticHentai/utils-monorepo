import basicDemo from './basicDemo?raw'
import complexDemo from './complexDemo?raw'
import { CodeOrSourceMdx } from '@storybook/addon-docs/blocks'

# cond

创建一个遍历条件对的函数，返回第一个匹配条件的结果。

## 详细介绍

`cond` 接收一个 `[predicate, transform]` 对数组，返回一个新函数。调用时依次检查每个条件，返回第一个谓词为真的转换结果。如果没有匹配的条件，返回 `undefined`。类似于 if-else 链或 switch-case 的函数式替代。

**常用场景**：
- 替代复杂的 if-else 链
- 函数式编程中的模式匹配
- 根据输入类型执行不同处理逻辑

## 基础条件分支

<CodeOrSourceMdx language="typescript">
  {basicDemo}
</CodeOrSourceMdx>

## 复杂条件匹配

多条件组合、按优先级匹配、默认兜底条件。

<CodeOrSourceMdx language="typescript">
  {complexDemo}
</CodeOrSourceMdx>

## 参数介绍

<table>
  <thead>
    <tr>
      <th>参数名</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pairs</td>
      <td><code>[(value: T) =&gt; boolean, (value: T) =&gt; R][]</code></td>
      <td>条件-结果对数组</td>
    </tr>
  </tbody>
</table>

### 返回值

- 类型：`(value: T) => R | undefined`
- 描述：遍历条件对的新函数

## 具体实现原理

1. **文件职责**: `cond/index.ts` 导出 cond 函数
2. **核心流程**: 返回新函数 → 遍历 pairs → 找到第一个 predicate 为真的 → 返回对应 transform 结果
3. **关键技术点**: 闭包保存条件对数组，惰性求值
4. **数据流向**: 调用参数 → 遍历条件对 → predicate(value) → 匹配则返回 transform(value)
